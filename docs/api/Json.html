
    
<!doctype html>
<meta charset=utf8>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel=stylesheet href='../styles.css'>
<script defer src='../script.js'></script>
<title>Json</title>
<body>
<script>window.relativeToRoot=".."</script>
<script defer src="../block-script.js"></script>
<div id='error-message'>
  ⚠️ Oops! This page doesn't appear to define a <span>type</span> called <code>_</code>.
</div>

    <script>window.shouldCheckHashes=true</script>
    <div class='container'>
    
    <div class='sidebar-wrapper'>
    <div class='sidebar-expander'>Show navigation</div>
    <div class='sidebar'>
      <a href="../search.html" style="display: block; padding: 0 8px;">Search</a>
      <div class='docs-listing'><a href="../index.html">Home</a></div>
      <div class='table-of-contents'>
      <div class='toc-header'>Page Contents</div>
      <a href="#Json-parser" class='level-1 header'>Json parser</a>
<a href="#Basics" class='level-2 header'>Basics</a>
<a href="#Parse--amp--stringify" class='level-2 header'>Parse &amp; stringify</a>
<a href="#value-parse" class='level-3 value'>parse</a>
<a href="#value-stringify" class='level-3 value'>stringify</a>
<a href="#Accessing-descendents" class='level-2 header'>Accessing descendents</a>
<a href="#value-get" class='level-3 value'>get</a>
<a href="#value-nth" class='level-3 value'>nth</a>
<a href="#value-getPath" class='level-3 value'>getPath</a>
<a href="#Coercing-to-types" class='level-2 header'>Coercing to types</a>
<a href="#value-string" class='level-3 value'>string</a>
<a href="#value-number" class='level-3 value'>number</a>
<a href="#value-array" class='level-3 value'>array</a>
<a href="#value-obj" class='level-3 value'>obj</a>
<a href="#value-bool" class='level-3 value'>bool</a>
<a href="#value-null" class='level-3 value'>null</a>
<a href="#The-JSON-type" class='level-2 header'>The JSON type</a>
<a href="#type-t" class='level-3 type'>t</a>
<a href="#Infix-operators-for-easier-working" class='level-2 header'>Infix operators for easier working</a>
<a href="#module-Infix" class='level-3 module'>Infix</a>
<a href="#value-Infix.|!" class='level-4 value'>|!</a>
<a href="#value-Infix.|?" class='level-4 value'>|?</a>
<a href="#value-Infix.|?>" class='level-4 value'>|?></a>
<a href="#value-Infix.|?>>" class='level-4 value'>|?>></a>
<a href="#value-Infix.fold" class='level-4 value'>fold</a>
<a href="#value-string_of_number" class='level-3 value'>string_of_number</a>
<a href="#value-unwrap" class='level-3 value'>unwrap</a>
<a href="#value-bind" class='level-3 value'>bind</a>
<a href="#value-parsePath" class='level-3 value'>parsePath</a>
      </div>
      <div class='project-listing'><div class='project-title'>Package modules</div><a href="Json.html">Json</a>
<a href="BigList.html">BigList</a>
<a href="Test.html">Test</a>
<a href="TestLib.html">TestLib</a></div>
    </div>
    </div>
  
    <div class='main'>
    <a href="https://github.com/jaredly/rex-json/blob/master/./src/Json.re" class="edit-link">Edit</a>
    <a href="#Json-parser" id="Json-parser"><h1>Json parser</h1></a>

<p>Works with bucklescript and bsb-native</p>
<a href="#Basics" id="Basics"><h2>Basics</h2></a>

<div class='code-block'>
  
  <pre class='code' data-block-id='1' id='block-1'><code>open Json.Infix; /* for the nice infix operators */
let <span class='pattern-ident' data-type="string">raw</span> = <span class='string' data-type="string">{|{&quot;hello&quot;: &quot;folks&quot;}|}</span>;
let <span class='pattern-ident' data-type="option(string)">who</span> = <span class='ident' data-type="string => Json.t">Json.parse</span>(<span class='ident' data-type="string">raw</span>) <span class='operator' data-type="(Json.t, Json.t => option(Json.t)) => option(Json.t)">|&gt;</span> <span class='ident' data-type="(string, Json.t) => option(Json.t)">Json.get</span>(<span class='string' data-type="string">&quot;hello&quot;</span>) <span class='operator' data-type="(option(Json.t), Json.t => option(string)) => option(string)">|?&gt;</span> <span class='ident' data-type="Json.t => option(string)">Json.string</span>;
<span class='ident' data-type="option(string) => unit">Js.log</span>(<span class='ident' data-type="option(string)">who</span>);</code></pre>
  
  <script type='docre-source' data-block-id="1">open Json.Infix; /* for the nice infix operators */
let raw = {|{"hello": "folks"}|};
let who = Json.parse(raw) |> Json.get("hello") |?> Json.string;
Js.log(who);</script>
  <div data-block-id='1' data-context="normal" class='block-target'></div><script type='docre-bundle' data-block-id='1'>
;(function() { // generated by pack.re
let modules = {}
let initializers = {
    1: function(module, exports, require) {// Generated by BUCKLESCRIPT VERSION 2.1.1, PLEASE EDIT WITH CARE
'use strict';

var Json = window.packRequire("./lib/js/src/Json.js");

var raw = "{\"hello\": \"folks\"}";

var who = Json.Infix[/* |?> */2](Json.get("hello", Json.parse(raw)), Json.string);

console.log(who);

exports.raw = raw;
exports.who = who;
/* who Not a pure module */
//# sourceURL=./node_modules/.docre/DOCRE_CODE_BLOCK_1.re_ppx.js
}
};
let nameMap = {
  "./node_modules/.docre/DOCRE_CODE_BLOCK_1.re_ppx.js": 1
}
let require = (id) => {
  if (!modules[id]) {
    modules[id] = {exports: {}}
    initializers[id](modules[id], modules[id].exports, require)
  }
  return modules[id].exports
};
  require(1)})();</script>
</div>

<a href="#Parse--amp--stringify" id="Parse--amp--stringify"><h2>Parse &amp; stringify</h2></a>

<div class='doc-item'><h4 class='item'>let <a href="#value-parse" id="value-parse">parse</a> = string => <a href="#type-t">t</a></h4>

<div class='body '><p> Turns some text into a json object. throws on failure</p>
</div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-stringify" id="value-stringify">stringify</a> = <a href="#type-t">t</a> => string</h4>

<div class='body '><div class='code-block'>
  
  <pre class='code' data-block-id='3' id='block-3'><code>let <span class='pattern-ident' data-type="string">text</span> = <span class='string' data-type="string">{|{&quot;hello&quot;: &quot;folks&quot;, &quot;aa&quot;: [2, 3, &quot;four&quot;]}|}</span>;
let <span class='pattern-ident' data-type="string">result</span> = <span class='ident' data-type="Json.t => string">Json.stringify</span>(<span class='ident' data-type="string => Json.t">Json.parse</span>(<span class='ident' data-type="string">text</span>));
<span class='ident' data-type="string => unit">Js.log</span>(<span class='ident' data-type="string">result</span>);
assert(<span class='ident' data-type="string">text</span> <span class='operator' data-type="(string, string) => bool">==</span> <span class='ident' data-type="string">result</span>);</code></pre>
  
  <script type='docre-source' data-block-id="3">let text = {|{"hello": "folks", "aa": [2, 3, "four"]}|};
let result = Json.stringify(Json.parse(text));
Js.log(result);
assert(text == result);</script>
  <div data-block-id='3' data-context="normal" class='block-target'></div><script type='docre-bundle' data-block-id='3'>
;(function() { // generated by pack.re
let modules = {}
let initializers = {
    1: function(module, exports, require) {// Generated by BUCKLESCRIPT VERSION 2.1.1, PLEASE EDIT WITH CARE
'use strict';

var Json                    = window.packRequire("./lib/js/src/Json.js");
var Caml_builtin_exceptions = window.packRequire("./node_modules/bs-platform/lib/js/caml_builtin_exceptions.js");

var text = "{\"hello\": \"folks\", \"aa\": [2, 3, \"four\"]}";

var result = Json.stringify(Json.parse(text));

console.log(result);

if (text !== result) {
  throw [
        Caml_builtin_exceptions.assert_failure,
        [
          ".",
          4,
          0
        ]
      ];
}

exports.text   = text;
exports.result = result;
/* result Not a pure module */
//# sourceURL=./node_modules/.docre/DOCRE_CODE_BLOCK_3.re_ppx.js
}
};
let nameMap = {
  "./node_modules/.docre/DOCRE_CODE_BLOCK_3.re_ppx.js": 1
}
let require = (id) => {
  if (!modules[id]) {
    modules[id] = {exports: {}}
    initializers[id](modules[id], modules[id].exports, require)
  }
  return modules[id].exports
};
  require(1)})();</script>
</div></div></div><a href="#Accessing-descendents" id="Accessing-descendents"><h2>Accessing descendents</h2></a>

<div class='doc-item'><h4 class='item'>let <a href="#value-get" id="value-get">get</a> = (string, <a href="#type-t">t</a>) => option(<a href="#type-t">t</a>)</h4>

<div class='body '><p> If <code>t</code> is an object, get the value associated with the given string key</p>
</div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-nth" id="value-nth">nth</a> = (int, <a href="#type-t">t</a>) => option(<a href="#type-t">t</a>)</h4>

<div class='body '><p> If <code>t</code> is an array, get the value associated with the given index</p>
</div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-getPath" id="value-getPath">getPath</a> = (string, <a href="#type-t">t</a>) => option(<a href="#type-t">t</a>)</h4>

<div class='body '><p>Get a deeply nested value from an object <code>t</code>.</p>
<div class='code-block'>
  
  <pre class='code' data-block-id='2' id='block-2'><code>open Json.Infix;
let <span class='pattern-ident' data-type="Json.t">json</span> = <span class='ident' data-type="string => Json.t">Json.parse</span>(<span class='string' data-type="string">{|{&quot;a&quot;: {&quot;b&quot;: {&quot;c&quot;: 2}}}|}</span>);
let <span class='pattern-ident' data-type="option(float)">num</span> = <span class='ident' data-type="(string, Json.t) => option(Json.t)">Json.getPath</span>(<span class='string' data-type="string">&quot;a.b.c&quot;</span>, <span class='ident' data-type="Json.t">json</span>) <span class='operator' data-type="(option(Json.t), Json.t => option(float)) => option(float)">|?&gt;</span> <span class='ident' data-type="Json.t => option(float)">Json.number</span>;
assert(<span class='ident' data-type="option(float)">num</span> <span class='operator' data-type="(option(float), option(float)) => bool">==</span> <span class='constructor' data-type="option(float)">Some</span>(<span class='float' data-type="float">2.</span>))</code></pre>
  
  <script type='docre-source' data-block-id="2">open Json.Infix;
let json = Json.parse({|{"a": {"b": {"c": 2}}}|});
let num = Json.getPath("a.b.c", json) |?> Json.number;
assert(num == Some(2.))</script>
  <div data-block-id='2' data-context="normal" class='block-target'></div><script type='docre-bundle' data-block-id='2'>
;(function() { // generated by pack.re
let modules = {}
let initializers = {
    1: function(module, exports, require) {// Generated by BUCKLESCRIPT VERSION 2.1.1, PLEASE EDIT WITH CARE
'use strict';

var Json                    = window.packRequire("./lib/js/src/Json.js");
var Caml_obj                = window.packRequire("./node_modules/bs-platform/lib/js/caml_obj.js");
var Caml_builtin_exceptions = window.packRequire("./node_modules/bs-platform/lib/js/caml_builtin_exceptions.js");

var json = Json.parse("{\"a\": {\"b\": {\"c\": 2}}}");

var num = Json.Infix[/* |?> */2](Json.getPath("a.b.c", json), Json.number);

if (!Caml_obj.caml_equal(num, /* Some */[2])) {
  throw [
        Caml_builtin_exceptions.assert_failure,
        [
          ".",
          4,
          0
        ]
      ];
}

exports.json = json;
exports.num  = num;
/* json Not a pure module */
//# sourceURL=./node_modules/.docre/DOCRE_CODE_BLOCK_2.re_ppx.js
}
};
let nameMap = {
  "./node_modules/.docre/DOCRE_CODE_BLOCK_2.re_ppx.js": 1
}
let require = (id) => {
  if (!modules[id]) {
    modules[id] = {exports: {}}
    initializers[id](modules[id], modules[id].exports, require)
  }
  return modules[id].exports
};
  require(1)})();</script>
</div></div></div><a href="#Coercing-to-types" id="Coercing-to-types"><h2>Coercing to types</h2></a>

<div class='doc-item'><h4 class='item'>let <a href="#value-string" id="value-string">string</a> = <a href="#type-t">t</a> => option(string)</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-number" id="value-number">number</a> = <a href="#type-t">t</a> => option(float)</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-array" id="value-array">array</a> = <a href="#type-t">t</a> => option(list(<a href="#type-t">t</a>))</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-obj" id="value-obj">obj</a> = <a href="#type-t">t</a> => option(list((string, <a href="#type-t">t</a>)))</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-bool" id="value-bool">bool</a> = <a href="#type-t">t</a> => option(bool)</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-null" id="value-null">null</a> = <a href="#type-t">t</a> => option(unit)</h4>

<div class='body body-empty'></div></div><a href="#The-JSON-type" id="The-JSON-type"><h2>The JSON type</h2></a>

<div class='doc-item'><h4 class='item'>type <a href="#type-t" id="type-t">t</a> = 
    | String(string)
    | Number(float)
    | Array(list(<a href="#type-t">t</a>))
    | Object(list((string, <a href="#type-t">t</a>)))
    | True
    | False
    | Null</h4>

<div class='body body-empty'></div></div><a href="#Infix-operators-for-easier-working" id="Infix-operators-for-easier-working"><h2>Infix operators for easier working</h2></a>

<div class='doc-item'><h4 class='item module'>module <a href="#module-Infix" id="module-Infix">Infix</a></h4><div class='body module-body'><p><span class='missing'>This module does not have a toplevel documentation block.</span></p>
<div class='doc-item'><h4 class='item'>let <a href="#value-Infix.|!" id="value-Infix.|!">|!</a> = (option('a), string) => 'a</h4>

<div class='body '><p>The &quot;force unwrap&quot; operator</p>
<p>If you&#39;re sure there&#39;s a value, you can force it.</p>
<div class='code-block'>
  
  <pre class='code' data-block-id='8' id='block-8'><code>open Json.Infix;
let <span class='pattern-ident' data-type="int">x</span>: <span class='type-constructor'>int</span> = <span class='constructor' data-type="option(int)">Some</span>(<span class='int' data-type="int">10</span>) <span class='operator' data-type="(option(int), string) => int">|!</span> <span class='string' data-type="string">&quot;Expected this to be present&quot;</span>;
<span class='ident' data-type="int => unit">Js.log</span>(<span class='ident' data-type="int">x</span>);</code></pre>
  
  <script type='docre-source' data-block-id="8">open Json.Infix;
let x: int = Some(10) |! "Expected this to be present";
Js.log(x);</script>
  <div data-block-id='8' data-context="normal" class='block-target'></div><script type='docre-bundle' data-block-id='8'>
;(function() { // generated by pack.re
let modules = {}
let initializers = {
    1: function(module, exports, require) {// Generated by BUCKLESCRIPT VERSION 2.1.1, PLEASE EDIT WITH CARE
'use strict';

var Json = window.packRequire("./lib/js/src/Json.js");

var x = Json.Infix[/* |! */0](/* Some */[10], "Expected this to be present");

console.log(x);

exports.x = x;
/* x Not a pure module */
//# sourceURL=./node_modules/.docre/DOCRE_CODE_BLOCK_8.re_ppx.js
}
};
let nameMap = {
  "./node_modules/.docre/DOCRE_CODE_BLOCK_8.re_ppx.js": 1
}
let require = (id) => {
  if (!modules[id]) {
    modules[id] = {exports: {}}
    initializers[id](modules[id], modules[id].exports, require)
  }
  return modules[id].exports
};
  require(1)})();</script>
</div>

<p>But you gotta be sure, otherwise it will throw.</p>
<div class='code-block'>
  
  <pre class='code' data-block-id='9' id='block-9'><code>open Json.Infix;
let <span class='pattern-ident' data-type="int">x</span>: <span class='type-constructor'>int</span> = <span class='constructor' data-type="option(int)">None</span> <span class='operator' data-type="(option(int), string) => int">|!</span> <span class='string' data-type="string">&quot;This will throw&quot;</span>;</code></pre>
  
  <script type='docre-source' data-block-id="9">open Json.Infix;
let x: int = None |! "This will throw";</script>
  <div data-block-id='9' data-context="normal" class='block-target'></div><script type='docre-bundle' data-block-id='9'>
;(function() { // generated by pack.re
let modules = {}
let initializers = {
    1: function(module, exports, require) {// Generated by BUCKLESCRIPT VERSION 2.1.1, PLEASE EDIT WITH CARE
'use strict';

var Json = window.packRequire("./lib/js/src/Json.js");

var x = Json.Infix[/* |! */0](/* None */0, "This will throw");

exports.x = x;
/* x Not a pure module */
//# sourceURL=./node_modules/.docre/DOCRE_CODE_BLOCK_9.re_ppx.js
}
};
let nameMap = {
  "./node_modules/.docre/DOCRE_CODE_BLOCK_9.re_ppx.js": 1
}
let require = (id) => {
  if (!modules[id]) {
    modules[id] = {exports: {}}
    initializers[id](modules[id], modules[id].exports, require)
  }
  return modules[id].exports
};
  require(1)})();</script>
</div></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-Infix.|?" id="value-Infix.|?">|?</a> = (option('a), 'a) => 'a</h4>

<div class='body '><p>The &quot;upwrap with default&quot; operator</p>
<div class='code-block'>
  
  <pre class='code' data-block-id='7' id='block-7'><code>open Json.Infix;
let <span class='pattern-ident' data-type="int">x</span>: <span class='type-constructor'>int</span> = <span class='constructor' data-type="option(int)">Some</span>(<span class='int' data-type="int">10</span>) <span class='operator' data-type="(option(int), int) => int">|?</span> <span class='int' data-type="int">4</span>;
let <span class='pattern-ident' data-type="int">y</span>: <span class='type-constructor'>int</span> = <span class='constructor' data-type="option(int)">None</span> <span class='operator' data-type="(option(int), int) => int">|?</span> <span class='int' data-type="int">5</span>;
<span class='ident' data-type="(int, int) => unit">Js.log2</span>(<span class='ident' data-type="int">x</span>, <span class='ident' data-type="int">y</span>);</code></pre>
  
  <script type='docre-source' data-block-id="7">open Json.Infix;
let x: int = Some(10) |? 4;
let y: int = None |? 5;
Js.log2(x, y);</script>
  <div data-block-id='7' data-context="normal" class='block-target'></div><script type='docre-bundle' data-block-id='7'>
;(function() { // generated by pack.re
let modules = {}
let initializers = {
    1: function(module, exports, require) {// Generated by BUCKLESCRIPT VERSION 2.1.1, PLEASE EDIT WITH CARE
'use strict';

var Json = window.packRequire("./lib/js/src/Json.js");

var x = Json.Infix[/* |? */1](/* Some */[10], 4);

var y = Json.Infix[/* |? */1](/* None */0, 5);

console.log(x, y);

exports.x = x;
exports.y = y;
/* x Not a pure module */
//# sourceURL=./node_modules/.docre/DOCRE_CODE_BLOCK_7.re_ppx.js
}
};
let nameMap = {
  "./node_modules/.docre/DOCRE_CODE_BLOCK_7.re_ppx.js": 1
}
let require = (id) => {
  if (!modules[id]) {
    modules[id] = {exports: {}}
    initializers[id](modules[id], modules[id].exports, require)
  }
  return modules[id].exports
};
  require(1)})();</script>
</div></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-Infix.|?>" id="value-Infix.|?>">|?></a> = (option('a), 'a => option('a)) => option('a)</h4>

<div class='body '><p>The &quot;transform contents into new optional&quot; operator</p>
<div class='code-block'>
  
  <pre class='code' data-block-id='6' id='block-6'><code>open Json.Infix;
let <span class='pattern-ident' data-type="int => option(int)">maybeInc</span> = <span class='pattern-ident' data-type="int">x</span> =&gt; <span class='ident' data-type="int">x</span> <span class='operator' data-type="(int, int) => bool">&gt;</span> <span class='int' data-type="int">5</span> <span class='pattern-constructor' data-type="bool">?</span> <span class='constructor' data-type="option(int)">Some</span>(<span class='ident' data-type="int">x</span> <span class='operator' data-type="(int, int) => int">+</span> <span class='int' data-type="int">1</span>) <span class='pattern-constructor' data-type="bool">:</span> <span class='constructor' data-type="option(int)">None</span>;
let <span class='pattern-ident' data-type="option(int)">x</span>: <span class='type-constructor'>option</span>(<span class='type-constructor'>int</span>) = <span class='constructor' data-type="option(int)">Some</span>(<span class='int' data-type="int">14</span>) <span class='operator' data-type="(option(int), int => option(int)) => option(int)">|?&gt;</span> <span class='ident' data-type="int => option(int)">maybeInc</span>;
let <span class='pattern-ident' data-type="option(int)">y</span>: <span class='type-constructor'>option</span>(<span class='type-constructor'>int</span>) = <span class='constructor' data-type="option(int)">None</span> <span class='operator' data-type="(option(int), int => option(int)) => option(int)">|?&gt;</span> <span class='ident' data-type="int => option(int)">maybeInc</span>;</code></pre>
  
  <script type='docre-source' data-block-id="6">open Json.Infix;
let maybeInc = x => x > 5 ? Some(x + 1) : None;
let x: option(int) = Some(14) |?> maybeInc;
let y: option(int) = None |?> maybeInc;</script>
  <div data-block-id='6' data-context="normal" class='block-target'></div><script type='docre-bundle' data-block-id='6'>
;(function() { // generated by pack.re
let modules = {}
let initializers = {
    1: function(module, exports, require) {// Generated by BUCKLESCRIPT VERSION 2.1.1, PLEASE EDIT WITH CARE
'use strict';

var Json = window.packRequire("./lib/js/src/Json.js");

function maybeInc(x) {
  var match = +(x > 5);
  if (match !== 0) {
    return /* Some */[x + 1 | 0];
  } else {
    return /* None */0;
  }
}

var x = Json.Infix[/* |?> */2](/* Some */[14], maybeInc);

var y = Json.Infix[/* |?> */2](/* None */0, maybeInc);

exports.maybeInc = maybeInc;
exports.x        = x;
exports.y        = y;
/* x Not a pure module */
//# sourceURL=./node_modules/.docre/DOCRE_CODE_BLOCK_6.re_ppx.js
}
};
let nameMap = {
  "./node_modules/.docre/DOCRE_CODE_BLOCK_6.re_ppx.js": 1
}
let require = (id) => {
  if (!modules[id]) {
    modules[id] = {exports: {}}
    initializers[id](modules[id], modules[id].exports, require)
  }
  return modules[id].exports
};
  require(1)})();</script>
</div></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-Infix.|?>>" id="value-Infix.|?>>">|?>></a> = (option('a), 'a => 'a) => option('a)</h4>

<div class='body '><p>The &quot;transform contents into new value &amp; then re-wrap&quot; operator</p>
<div class='code-block'>
  
  <pre class='code' data-block-id='5' id='block-5'><code>open Json.Infix;
let <span class='pattern-ident' data-type="int => int">inc</span> = <span class='pattern-ident' data-type="int">x</span> =&gt; <span class='ident' data-type="int">x</span> <span class='operator' data-type="(int, int) => int">+</span> <span class='int' data-type="int">1</span>;
let <span class='pattern-ident' data-type="option(int)">x</span>: <span class='type-constructor'>option</span>(<span class='type-constructor'>int</span>) = <span class='constructor' data-type="option(int)">Some</span>(<span class='int' data-type="int">7</span>) <span class='operator' data-type="(option(int), int => int) => option(int)">|?&gt;&gt;</span> <span class='ident' data-type="int => int">inc</span>;
let <span class='pattern-ident' data-type="option(int)">y</span>: <span class='type-constructor'>option</span>(<span class='type-constructor'>int</span>) = <span class='constructor' data-type="option(int)">None</span> <span class='operator' data-type="(option(int), int => int) => option(int)">|?&gt;&gt;</span> <span class='ident' data-type="int => int">inc</span>;
<span class='ident' data-type="(option(int), option(int)) => unit">Js.log2</span>(<span class='ident' data-type="option(int)">x</span>, <span class='ident' data-type="option(int)">y</span>);</code></pre>
  
  <script type='docre-source' data-block-id="5">open Json.Infix;
let inc = x => x + 1;
let x: option(int) = Some(7) |?>> inc;
let y: option(int) = None |?>> inc;
Js.log2(x, y);</script>
  <div data-block-id='5' data-context="normal" class='block-target'></div><script type='docre-bundle' data-block-id='5'>
;(function() { // generated by pack.re
let modules = {}
let initializers = {
    1: function(module, exports, require) {// Generated by BUCKLESCRIPT VERSION 2.1.1, PLEASE EDIT WITH CARE
'use strict';

var Json = window.packRequire("./lib/js/src/Json.js");

function inc(x) {
  return x + 1 | 0;
}

var x = Json.Infix[/* |?>> */3](/* Some */[7], inc);

var y = Json.Infix[/* |?>> */3](/* None */0, inc);

console.log(x, y);

exports.inc = inc;
exports.x   = x;
exports.y   = y;
/* x Not a pure module */
//# sourceURL=./node_modules/.docre/DOCRE_CODE_BLOCK_5.re_ppx.js
}
};
let nameMap = {
  "./node_modules/.docre/DOCRE_CODE_BLOCK_5.re_ppx.js": 1
}
let require = (id) => {
  if (!modules[id]) {
    modules[id] = {exports: {}}
    initializers[id](modules[id], modules[id].exports, require)
  }
  return modules[id].exports
};
  require(1)})();</script>
</div></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-Infix.fold" id="value-Infix.fold">fold</a> = (option('a), 'a, 'a => 'a) => 'a</h4>

<div class='body '><p>&quot;handle the value if present, otherwise here&#39;s the default&quot;</p>
<p>It&#39;s called fold because that&#39;s what people call it :?. It&#39;s the same as &quot;transform contents to new value&quot; + &quot;unwrap with default&quot;.</p>
<div class='code-block'>
  
  <pre class='code' data-block-id='4' id='block-4'><code>open Json.Infix;
let <span class='pattern-ident' data-type="int => int">inc</span> = <span class='pattern-ident' data-type="int">x</span> =&gt; <span class='ident' data-type="int">x</span> <span class='operator' data-type="(int, int) => int">+</span> <span class='int' data-type="int">1</span>;
let <span class='pattern-ident' data-type="int">x</span>: <span class='type-constructor'>int</span> = <span class='ident' data-type="(option(int), int, int => int) => int">fold</span>(<span class='constructor' data-type="option(int)">Some</span>(<span class='int' data-type="int">4</span>), <span class='int' data-type="int">10</span>, <span class='ident' data-type="int => int">inc</span>);
let <span class='pattern-ident' data-type="int">y</span>: <span class='type-constructor'>int</span> = <span class='ident' data-type="(option(int), int, int => int) => int">fold</span>(<span class='constructor' data-type="option(int)">None</span>, <span class='int' data-type="int">2</span>, <span class='ident' data-type="int => int">inc</span>);
<span class='ident' data-type="(int, int) => unit">Js.log2</span>(<span class='ident' data-type="int">x</span>, <span class='ident' data-type="int">y</span>);</code></pre>
  
  <script type='docre-source' data-block-id="4">open Json.Infix;
let inc = x => x + 1;
let x: int = fold(Some(4), 10, inc);
let y: int = fold(None, 2, inc);
Js.log2(x, y);</script>
  <div data-block-id='4' data-context="normal" class='block-target'></div><script type='docre-bundle' data-block-id='4'>
;(function() { // generated by pack.re
let modules = {}
let initializers = {
    1: function(module, exports, require) {// Generated by BUCKLESCRIPT VERSION 2.1.1, PLEASE EDIT WITH CARE
'use strict';

var Json = window.packRequire("./lib/js/src/Json.js");

function inc(x) {
  return x + 1 | 0;
}

var x = Json.Infix[/* fold */4](/* Some */[4], 10, inc);

var y = Json.Infix[/* fold */4](/* None */0, 2, inc);

console.log(x, y);

exports.inc = inc;
exports.x   = x;
exports.y   = y;
/* x Not a pure module */
//# sourceURL=./node_modules/.docre/DOCRE_CODE_BLOCK_4.re_ppx.js
}
};
let nameMap = {
  "./node_modules/.docre/DOCRE_CODE_BLOCK_4.re_ppx.js": 1
}
let require = (id) => {
  if (!modules[id]) {
    modules[id] = {exports: {}}
    initializers[id](modules[id], modules[id].exports, require)
  }
  return modules[id].exports
};
  require(1)})();</script>
</div></div></div>
</div></div><p>other items defined</p><div class='doc-item'><h4 class='item'>let <a href="#value-string_of_number" id="value-string_of_number">string_of_number</a> = float => string</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-unwrap" id="value-unwrap">unwrap</a> = (string, option('a)) => 'a</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-bind" id="value-bind">bind</a> = (option('a), 'a => option('a)) => option('a)</h4>

<div class='body body-empty'></div></div>

<div class='doc-item'><h4 class='item'>let <a href="#value-parsePath" id="value-parsePath">parsePath</a> = (list(string), <a href="#type-t">t</a>) => <a href="#type-t">t</a></h4>

<div class='body body-empty'></div></div>
    </div>
    <div class='right-blank'></div>
    </div>
  